## -------------------------------------------------------------------------
## all the data parameters that are consumed by the code (files, etc)
#------------------------------------------------------------------------------------
[data]
lumimask = data/lumi_cert/Cert_314472-325175_13TeV_Legacy2018_Collisions18_JSON.txt

[parameters]
year = 2018

# jet energy resolution smearing
JERScaleFactorFile = data/jer/2018/Summer19UL18_JRV2_MC_SF_AK4PFchs.txt
JERResolutionFile  = data/jer/2018/Summer19UL18_JRV2_MC_PtResolution_AK4PFchs.txt

# jet energy scale shift
JECFileName = data/jec/2018/Summer19UL18_V5_MC_UncertaintySources_AK4PFchs.txt

# pileup reweighting
PUweightFile = data/PUweights/2018/TTTo2L2Nu_TuneCP5_13TeV-powheg-pythia8_PUweights.root

# b tag SFs
DeepJetScaleFactorFile = data/btag/2018/wp_deepJet_BTVPOG.csv

## -------------------------------------------------------------------------
## all the swicthes that configure the skim (what to save, how to select things, etc)
[configurations]
applyMETFilters = true

bTagWPDef = 0.0490, 0.2783, 0.7100  # Cuts for WP : Loose, Medium, Tight WPs

# Muon veto or selection
applyMuonVeto      = true
saveMuonColl       = false # If veto is enabled, this should be false
applyMuonSelection = false # If veto is enabled, this should be false
nMuonsCutValue     = 0     # Only needed when applyMuonSelection is true
nMuonsCutDirection = >=    # Only needed when applyMuonSelection is true
muonIsoCut         = Tight # Options: [vLoose, Loose, Medium, Tight, vTight, vvTight]
muonPtCut          = 15.0
muonEtaCut         = 2.4
muonID             = Loose # Options: [Loose, Medium, Tight]

# Electron muon or selection
applyEleVeto       = true
saveEleColl        = false # If veto is enabled, this should be false
applyEleSelection  = false # If veto is enabled, this should be false
nEleCutValue       = 0     # Only needed when applyEleSelection is true
nEleCutDirection   = >=    # Only needed when applyEleSelection is true
eleID              = Loose # Options: [Loose, 90, 80]
elePtCut           = 10.0
eleEtaCut          = 2.4
eleIsoCut          = 0.15

saveFatJetColl = false # save the fatjets collection
saveJetColl    = true # save the jet and genjet collections
saveShapes     = true # save the event shape variables

skimType = fourb

# use regressed pT to build the H p4.
# NOTE: This is applied in the recomputation of p4(H) *after* the bb jets have been chosen
useRegressedPtForHp4 = true

nMinBtag  = 0  # minimum number of b tagged jets in the event (>=)
bTagWP    = 1  # Which WP to apply for the selection above. 0 : Loose, 1: Medium, 2: Tight WP

## -------------------------------------------------------------------------
## configuration of the various function-specific parameters
[presel]
apply   = true
pt_min  = 20
eta_max = 2.5
pf_id   = 2 # 1:loose, 2:tight, X:tight-with-lepton-veto
pu_id   = 1
njetsCutValue = 4
njetsCutDirection = >=

[select_jets]
applyJetCuts       = true
applyJetPtCutsTo   = 4     # Check the 4 leading-in-pT jets
applyJetBTagCutsTo = 3     # Check the 3 leading-in-b tag score jets
pt_cuts            = 40    # pT threshold on the #applyJetPtCutsTo leading-in-pT jets
btagWP_cuts        = 1,1,1 # Medium WP to be applied on the #applyJetBTagCutsTo leading-in-b tag score jets

[select_PFHT]
applyPFHTCuts      = false
PFHT_cut           = 330

[leadJetInX]
useRegressedPt = true

#------------------------------------------------------------------------------------
[triggers]
applyTrigger = true
saveDecision = true # Create branches with individual trigger decisions
makeORof     = trigger1:HLT_PFHT330PT30_QuadPFJet_75_60_45_40_TriplePFBTagDeepCSV_4p5

applyTrgObjectMatching      = true
candidatesForTrgMatching    = 4
MaxDeltaR                   = 0.5
trigger1_ObjectRequirements = 1:10:0, 1:5:4, 3:3:0, 1:11:2, 1:12:4, 1:13:1, 1:14:2, 1:15:3, 1:16:4, 3:4:0, 1:17:3

saveTrgSF                 = true
SimulateTrigger           = false
TriggerEfficiencyFileName = data/trigger/2018/TriggerEfficiency_Fit_2018_wMatching.root
applyTurnOnCuts           = false